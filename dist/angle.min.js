!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("core-js/modules/es.regexp.constructor"),require("core-js/modules/es.regexp.to-string"),require("core-js/modules/es.string.replace"),require("core-js/modules/es.string.match"),require("core-js/modules/web.dom-collections.iterator")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.regexp.constructor","core-js/modules/es.regexp.to-string","core-js/modules/es.string.replace","core-js/modules/es.string.match","core-js/modules/web.dom-collections.iterator"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).angle={})}(this,(function(e){"use strict";let t=new WeakMap;function r(e,r){t.has(e)||t.set(e,{});let{before:o,after:n}=function(e){return{before:"".concat(e,"BeforeHook"),after:"".concat(e,"AfterHook")}}(r),u=t.get(e);return u[o]||(u[o]=[]),u[n]||(u[n]=[]),{before:u[o],after:u[n]}}function o(e,t){if(Reflect.getOwnPropertyDescriptor(e,t))return!1;let{before:o,after:n}=r(e,t),{configurable:u,enumerable:c,get:f,set:s}=Reflect.getOwnPropertyDescriptor(e.__proto__,t)||function(){let e=null;return{configurable:!0,enumerable:!0,get:function(){return e},set:function(t){return e=t,e}}}();return Reflect.defineProperty(e,t,{configurable:u,enumerable:c,get:function(){return f.call(e)},set:function(t){t=o.reduce((function(t,r){return r.call(e,t)||t}),t),s.call(e,t),n.reduce((function(t,r){return r.call(e,t)||t}),t)}}),{before:o,after:n}}function n(e,t){let r=e.indexOf(t);-1!=r&&e.splice(r,1)}e.default=function(e){if("string"==typeof e&&(e=document.querySelector(e)),!function(e){return e instanceof HTMLElement}(e))throw new Error("无效的 HTMLElement 节点");let t;switch(e.nodeName.toLowerCase()){case"input":t="value";break;default:t="textContent"}e.addEventListener("beforeinput",(function(r){r.preventDefault(),"insertText"==r.inputType&&(e[t]="".concat(e[t]).concat(r.data))})),function(e,t,u){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"after",{before:f,after:s}=o(e,t)||r(e,t);switch(c){case"before":n(f,u),f.push(u);break;default:n(s,u),s.push(u)}}(e,t,(function(e){let t,r=/[\uff00-\uffff\u3000]/g.exec(e);for(;r;)t=r[0].charCodeAt(),12288==t&&(t=32),t>=65281&&t<=65374&&(t-=65248),e=e.replace(new RegExp(r[0],"gi"),String.fromCharCode(t)),r=/[\uff00-\uffff\u3000]/g.exec(e);return e}),"before")},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angle.min.js.map
