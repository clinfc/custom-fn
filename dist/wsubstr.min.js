!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("core-js/modules/es.object.assign"),require("core-js/modules/web.dom-collections.iterator")):"function"==typeof define&&define.amd?define(["exports","core-js/modules/es.object.assign","core-js/modules/web.dom-collections.iterator"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).wsubstr={})}(this,(function(e){"use strict";function t(e,t){let o=document.createElement("span"),n={opacity:0,zIndex:-100,width:0,display:"inline-block",whiteSpace:"nowrap"};"object"==typeof t&&Object.assign(n,t);for(let[e,t]of Object.entries(n))o.style[e]=t;let i=document.createTextNode(e);return o.appendChild(i),document.body.appendChild(o),{span:o,text:i}}function o(e,t,o){let n=e.scrollWidth,i=n/t.length;return{width:n,average:i,size:Math.ceil(o/i)-1}}function n(e,t,o,n,i){t.textContent=o;let l=e.scrollWidth;if(l<n||(r=l,d=n,Math.abs(r-d)<Number.EPSILON)){let e=n-l;return e<i?{done:!0,diff:0}:{done:!1,diff:-Math.floor(e/i)}}return{done:!1,diff:Math.ceil((l-n)/i)};var r,d}function i(e,t,o,l,r,d,s){let c=o.slice(l,r),{done:f,diff:u}=n(e,t,c,d,s);if(f)return c;if(u>0){c=o.slice(l,r-u);let f=n(e,t,c,d,s);return f.done?c:f.diff==-u?(--r,u>1&&(r-=u),o.slice(l,r)):i(e,t,o,l,r-u-f.diff,d,s)}return i(e,t,o,l,r-u,d,s)}e.default=function(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=[],{span:d,text:s}=t(e,l),{average:c,size:f}=o(d,e,n),u=0,a=f;for(;u<e.length;){if(e.length-u<f){r.push(e.slice(u,a));break}{let t=i(d,s,e,u,a,n,c);r.push(t),u+=t.length,a=u+f}}return document.body.removeChild(d),r},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=wsubstr.min.js.map
